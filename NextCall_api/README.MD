nextcall_backend/
â”‚
â”œâ”€â”€ ğŸ“ src/
â”‚   â”œâ”€â”€ ğŸ“ config/                   # Configuration files (env, constants, socket)
â”‚   â”‚   â”œâ”€â”€ socket.config.js
â”‚   â”‚   â””â”€â”€ db.config.js            # (New) DB config (e.g., MongoDB or PostgreSQL)
â”‚   â”‚   â””â”€â”€ passport-jwt.js            # (New) DB config (e.g., MongoDB or PostgreSQL)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ controllers/             # Business logic (splitted by domain)
â”‚   â”‚   â”œâ”€â”€ call.controller.js
â”‚   â”‚   â””â”€â”€ auth.controller.js      # (New) Login/Register logic
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ routes/                  # API route definitions
â”‚   â”‚   â”œâ”€â”€ call.routes.js
â”‚   â”‚   â””â”€â”€ auth.routes.js          # (New) Routes for login, register
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ services/                # Service layer (handling data + logic)
â”‚   â”‚   â”œâ”€â”€ call.service.js
â”‚   â”‚   â””â”€â”€ auth.service.js         # (New) Auth-specific logic (login/register, JWT)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ sockets/                 # Socket event listeners
â”‚   â”‚   â””â”€â”€ call.socket.js
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ utils/                   # Utility functions (e.g., logging, token, password hash)
â”‚   â”‚   â”œâ”€â”€ logger.js
â”‚   â”‚   â”œâ”€â”€ jwt.js                  # (New) JWT helpers (sign, verify, decode)
â”‚   â”‚   â””â”€â”€ hash.js                 # (New) Password hashing (bcrypt)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ middleware/             # Express middlewares
â”‚   â”‚   â”œâ”€â”€ errorHandler.js
â”‚   â”‚   â””â”€â”€ auth.middleware.js      # (New) Auth guard (JWT check)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ models/                 # Database models
â”‚   â”‚   â”œâ”€â”€ user.model.js
â”‚   â”‚   â””â”€â”€ token.model.js          # (Optional) Store refresh tokens if needed
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ validations/            # Schema validations (Joi/Zod)
â”‚   â”‚   â”œâ”€â”€ call.validation.js
â”‚   â”‚   â””â”€â”€ auth.validation.js      # (New) Validation for login/register input
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ docs/            # openAPi docs
â”‚   â”‚   â”œâ”€â”€ swagger.doc.yaml
â”‚   â”‚   â””â”€â”€
â”‚   â”‚
â”‚   â”œâ”€â”€ server.js                  # Entry point (http + socket server)
â”‚   â””â”€â”€ app.js                     # Middleware, route, error setup
â”‚
â”œâ”€â”€ ğŸ“ public/                      # Static assets
â”œâ”€â”€ ğŸ“ logs/                        # Logger output (optional)
â”‚
â”œâ”€â”€ .env
â”œâ”€â”€ .gitignore
â”œâ”€â”€ package.json
â””â”€â”€ README.md



docker run -d --name my-mongo -p 27017:27017 mongo:latest


docker build -t nextcall-node .



docker run -d --name nextcall-app -p 3000:3000 --link my-mongo:mongo -e MONGO_URI="mongodb://mongo:27017/nextcalldb" nextcall-node
